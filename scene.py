import pygame
from pygame.locals import *
import os
import random

class Scene():

    def __init__(self, map_id):
        if map_id == "Durham":
            self.bg_path = 'assets/background/durham.jpg'
            self.player_respawn_point = (144, 96)
            self.CPU_respawn_point = (624, 96)
            self.grid = [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],
                [0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],
                [0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0],
                [0,0,0,0,11,1,21,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,11,1,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,11,1,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,11,1,21,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
                [0,0,0,0,11,11,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
                [0,0,0,0,11,0,0,0,0,0,11,1,1,1,1,1,1,1,1,1,1,1,1,21,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,11,1,1,1,1,1,1,1,1,21,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]
        elif map_id == "London":
            self.bg_path = 'assets/background/london.jpg'
            self.player_respawn_point = (240, 96)
            self.CPU_respawn_point = (552, 72)
            self.grid = [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,7,2,2,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,2,2,7,7,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,7,7,7,7,7,7,7,7,7,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,2,2,7,2,2,7,2,2,7,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,2,2,7,2,2,7,2,2,27,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,7,7,7,7,7,7,7,7,27,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,2,2,7,2,2,7,2,2,27,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,2,2,7,2,2,7,2,2,27,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,17,7,7,7,7,7,7,7,7,27,0,0,17,7,7,7,7,7,7,27,0,0,0,0,0,0,0]]
        elif map_id == "10 Downing":
            self.bg_path = 'assets/background/10_downing.jpg'
            self.player_respawn_point = (288, 192)
            self.CPU_respawn_point = (504, 192)
            self.grid = [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,0,0,1,1,1,1,1,1,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,17,7,7,7,27,0,0,17,7,7,7,27,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,17,7,7,27,0,0,0,0,17,7,7,27,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,17,7,27,0,0,0,0,0,0,17,7,27,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]
        elif map_id == "Army Base":
            self.bg_path = 'assets/background/army_base.jpg'
            self.player_respawn_point = (576, 336)
            self.CPU_respawn_point = (384, 264)
            self.grid = [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,7,7,7,7,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,5,5,5,5,5,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,15,5,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,7,0,0,0,0,7,7,7,7,7,0,0,0],
                [0,0,0,7,7,7,0,0,0,0,0,0,7,7,7,7,7,7,7,27,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,17,7,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,17,27,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0],
                [0,0,0,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0],
                [0,0,0,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,25,0,0,0,0,0,0,0,0],
                [0,0,0,17,7,7,7,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,25,0,0,0,0,0,0,0,0]]

        self.i_grass = pygame.image.load('assets/terrain/Grass_Tile.png')
        self.i_cloud = pygame.image.load('assets/terrain/Air_Tile.png')
        self.i_sand = pygame.image.load('assets/terrain/Sandlands_Tile.png')
        self.i_sand_2 = pygame.image.load('assets/terrain/Sandlands_Tile_2.png')
        self.i_snow = pygame.image.load('assets/terrain/Snowlands_Tile.png')
        self.i_snow_2 = pygame.image.load('assets/terrain/Snowlands_Tile_2.png')
        self.i_snow_3 = pygame.image.load('assets/terrain/Snowlands_Tile_3.png')
        self.i_underwater = pygame.image.load('assets/terrain/Underwaterlands_Tile.png')
        self.WIDTH = 24
        self.HEIGHT = 24
        self.MARGIN = 0
        
    def draw(self, screen):
        for row in range(0, len(self.grid)):
            for column in range(0, len(self.grid[row])):
                if self.grid[row][column] % 10 == 1:
                    screen.blit(self.i_grass,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 2:
                    screen.blit(self.i_cloud,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 3:
                    screen.blit(self.i_sand,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 4:
                    screen.blit(self.i_sand_2,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 5:
                    screen.blit(self.i_snow,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 6:
                    screen.blit(self.i_snow_2,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 7:
                    screen.blit(self.i_snow_3,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
                if self.grid[row][column] % 10 == 8:
                    screen.blit(self.i_underwater,
                             [(self.MARGIN + self.WIDTH) * column + self.MARGIN,
                              (self.MARGIN + self.HEIGHT) * row + self.MARGIN,
                              self.WIDTH,
                              self.HEIGHT])
